---
layout: default
pagination:
  data: collections.tagPages
  size: 1
  alias: currentTagPage
permalink: "/tag/{{ currentTagPage.slug }}/index.html"
---

{% html "head" %}
  <link rel="alternate" href="/tag/{{ currentTagPage.slug }}/feed.xml" type="application/rss+xml" title="{{ site.title }} — {{ currentTagPage.name }}">
{% endhtml %}

<article class="post typo white-content wrap-inner">
  <header class="post-header">
    <h1 class="post-header__title">Тег: {{ currentTagPage.name }}</h1>
    <p><a href="/tag/{{ currentTagPage.slug }}/feed.xml">RSS этого тега</a></p>
  </header>
</article>

<div class="cards">
  {% for post in collections.posts %}
    {% assign showPost = false %}
    {% assign currentTagKey = currentTagPage.key %}
    {% for postTag in post.data.tags %}
      {% assign postTagNormalized = postTag | tagSlug %}
      {% if postTagNormalized == currentTagKey %}
        {% assign showPost = true %}
      {% endif %}
    {% endfor %}

    {% if showPost %}
      {% include "post-card.liquid"
        tag: "h2",
        tags: post.data.tags,
        date: post.date,
        imagePath: post.data.image.path,
        imageAlt: post.data.image.alt,
        link: post.url,
        title: post.data.title,
        description: post.data.description %}
    {% endif %}
  {% endfor %}
</div>
